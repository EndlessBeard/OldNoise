<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WebGL 3.0 Visualization</title>
  <link rel="stylesheet" href="/src/styles/controls.css">
  <style>
    body {
      margin: 0;
      overflow: hidden;
      width: 100vw;
      height: 100vh;
      background-color: #000;
      font-family: Arial, sans-serif;
    }
    canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <canvas id="webgl-canvas"></canvas>
  
  <div id="control-panel">
    <h3 class="control-title">Noise Controls</h3>
    
    <!-- Collapsible box around noise controls -->
    <div class="control-box">
      <div class="control-box-header" onclick="toggleControlBox(this)">
        <h4>Noise Parameters</h4>
        <button class="control-box-toggle">−</button>
      </div>
      
      <div class="control-box-content">
        <div class="control-group">
          <div class="input-row">
            <label for="frequency">Frequency</label>
            <input type="number" id="frequency" value="2.0" step="0.001" min="0.001" max="10.0">
          </div>
          <div class="slider-container">
            <input type="range" id="frequency-slider" min="0.001" max="10.0" step="0.001" value="2.0">
          </div>
        </div>
        
        <div class="control-group">
          <div class="input-row">
            <label for="amplitude">Amplitude</label>
            <input type="number" id="amplitude" value="0.5" step="0.001" min="0.001" max="2.0">
          </div>
          <div class="slider-container">
            <input type="range" id="amplitude-slider" min="0.001" max="2.0" step="0.001" value="0.5">
          </div>
        </div>
        
        <div class="control-group">
          <div class="input-row">
            <label for="octaves">Octaves</label>
            <input type="number" id="octaves" value="4" step="1" min="1" max="8">
          </div>
          <div class="slider-container">
            <input type="range" id="octaves-slider" min="1" max="8" step="1" value="4">
          </div>
        </div>
        
        <div class="control-group">
          <div class="checkbox-row">
            <input type="checkbox" id="use3D" checked>
            <label for="use3D">Use 3D Noise</label>
          </div>
        </div>
        
        <!-- Movement speed controls moved inside the collapsible box -->
        <div class="control-group">
          <label for="speed-x">Movement Speed</label>
          <div class="speed-controls">
            <div class="speed-control">
              <span>X:</span>
              <input type="number" id="speed-x" value="0.1" step="0.01" min="-1.0" max="1.0">
            </div>
            <div class="speed-control">
              <span>Y:</span>
              <input type="number" id="speed-y" value="0.1" step="0.01" min="-1.0" max="1.0">
            </div>
            <div class="speed-control">
              <span>Z:</span>
              <input type="number" id="speed-z" value="0.2" step="0.01" min="-1.0" max="1.0">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
  
  <!-- Add JavaScript for collapsible functionality -->
  <script>
    function toggleControlBox(header) {
      const content = header.nextElementSibling;
      const button = header.querySelector('.control-box-toggle');
      
      if (content.classList.contains('collapsed')) {
        content.classList.remove('collapsed');
        content.style.maxHeight = content.scrollHeight + 'px';
        button.textContent = '−'; // Minus sign
      } else {
        content.classList.add('collapsed');
        content.style.maxHeight = '0';
        button.textContent = '+'; // Plus sign
      }
    }
  </script>
</body>
</html>